# TikTok Domain Harvester Worker Environment Variables

# === REQUIRED VARIABLES ===

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key-here

# === OPTIONAL VARIABLES ===

# Redis/Upstash Configuration (for rate limiting)
# If not provided, will use local in-memory rate limiting
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token-here

# Worker Configuration
WORKER_ID=worker-1
WORKER_ENV=development  # development, staging, or production
MAX_CONCURRENT_BROWSERS=1
BROWSER_HEADLESS=true

# TikTok Scraping Configuration
TIKTOK_BASE_URL=https://www.tiktok.com
MAX_COMMENT_PAGES=2
COMMENTS_PER_PAGE=50
SCRAPE_TIMEOUT=30000  # milliseconds
NAVIGATION_TIMEOUT=60000  # milliseconds

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=30  # requests per minute
RATE_LIMIT_BURST=10  # burst size

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY=1.0  # seconds
RETRY_BACKOFF=2.0  # backoff factor

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or console

# Health Check Configuration
HEALTH_CHECK_PORT=8080
HEALTH_CHECK_ENABLED=true

# Proxy Configuration (optional)
# PROXY_URL=http://proxy.example.com:8080
# PROXY_USERNAME=username
# PROXY_PASSWORD=password